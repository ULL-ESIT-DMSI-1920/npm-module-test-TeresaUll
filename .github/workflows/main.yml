
name: Test and publish for extension gh-repo-rename

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
   runs-on: ${{ matrix.os }}
   strategy:
     matrix:
       os: [ubuntu-18.04, ubuntu-20.04]
       node: [10, 12, 14]
   steps: 
       - uses: actions/checkout@v2
       - uses: actions/setup-node@v2.5.1
         with:
             token: ${{ secrets.GH_TOKEN }}
                
       - name: Run test
       - run: npm test
         env:
           GITHUB_TOKEN: ${{secrets.GH_TOKEN}}
